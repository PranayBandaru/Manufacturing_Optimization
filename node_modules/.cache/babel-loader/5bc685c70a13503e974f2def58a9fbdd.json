{"ast":null,"code":"//var input  = [ { product : \"XPS\" , backlog : 15 , sales: 12 , extra : 20}, { product : \"Vostro\" , backlog : 10 , sales: 16 , extra : 12},\n//{ product : \"GSeries\" , backlog : 4 , sales: 15 , extra : 2}, { product : \"Inspiron\" , backlog : 9 , sales: 10 , extra : 17}]\nvar times = {\n  XPS: [2, 3, 2],\n  //XPS\n  Inspiron: [2, 2, 2],\n  //Inspiron\n  Vostro: [1, 2, 1],\n  //Vostro\n  GSeries: [3, 3, 1] //GSeries\n\n};\nvar n_lines = 6;\n\nconst initialise = arr => {\n  for (var i = 0; i < 336; i++) {\n    arr[i] = 0;\n  }\n\n  return arr;\n};\n\ninput.sort((a, b) => {\n  return a.backlog - b.backlog;\n}); //console.log(input)\n\nvar line_1 = {\n  step1: initialise(new Array(336)),\n  step2: initialise(new Array(336)),\n  step3: initialise(new Array(336))\n};\nvar line_2 = {\n  step1: initialise(new Array(336)),\n  step2: initialise(new Array(336)),\n  step3: initialise(new Array(336))\n};\nvar line_3 = {\n  step1: initialise(new Array(336)),\n  step2: initialise(new Array(336)),\n  step3: initialise(new Array(336))\n};\nvar line_4 = {\n  step1: initialise(new Array(336)),\n  step2: initialise(new Array(336)),\n  step3: initialise(new Array(336))\n};\nvar line_5 = {\n  step1: initialise(new Array(336)),\n  step2: initialise(new Array(336)),\n  step3: initialise(new Array(336))\n};\nvar line_6 = {\n  step1: initialise(new Array(336)),\n  step2: initialise(new Array(336)),\n  step3: initialise(new Array(336))\n};\nvar lines = [line_1, line_2, line_3, line_4, line_5, line_6]; // console.log(line_4.step2[50]);\n\nvar backlogs = [];\nvar sales = [];\nvar extra = []; //-----------------------------------------------FIRST INDEX--------------------------------------------------\n\nfunction first_index(lines, step_no, min) {\n  //console.log(lines);\n  var min_index = 336;\n  var min_line_no;\n  step_no = String(\"step\" + step_no);\n\n  for (var i = 0; i < lines.length; i++) {\n    for (var k = min; k < 336; k++) {\n      if (lines[i][step_no][k] == 0 && k < min_index) {\n        min_index = k;\n        min_line_no = i + 1;\n        break;\n      }\n    }\n  }\n\n  return [min_index, min_line_no];\n} //-----------------------------------------------OPTIMIZE--------------------------------------------------\n\n\nexport const optimize = input => {\n  var temp_swap;\n  var loc;\n\n  for (var i = 0; i < 4; i++) {\n    backlogs.push({\n      product: input[i].product,\n      backlog: input[i].backlog\n    });\n  }\n\n  for (var i = 0; i < 4; i++) {\n    sales.push({\n      product: input[i].product,\n      sales: input[i].sales\n    });\n  }\n\n  for (var i = 0; i < 4; i++) {\n    extra.push({\n      product: input[i].product,\n      extra: input[i].extra\n    });\n  } //console.log(backlogs);\n  //----------------------------------------------SORT----------------------------------------------------------\n\n\n  for (var i = 0; i < 3; i++) {\n    for (var j = 0; j < 3; j++) {\n      if (backlogs[j].backlog < backlogs[j + 1].backlog) {\n        temp_swap = backlogs[j].backlog;\n        backlogs[j].backlog = backlogs[j + 1].backlog;\n        backlogs[j + 1].backlog = temp_swap;\n        temp_swap = backlogs[j].product;\n        backlogs[j].product = backlogs[j + 1].product;\n        backlogs[j + 1].product = temp_swap;\n      }\n    }\n  }\n\n  for (var i = 0; i < 3; i++) {\n    for (var j = 0; j < 3; j++) {\n      if (sales[j].sales < sales[j + 1].sales) {\n        temp_swap = sales[j].sales;\n        sales[j].sales = sales[j + 1].sales;\n        sales[j + 1].sales = temp_swap;\n        temp_swap = sales[j].product;\n        sales[j].product = sales[j + 1].product;\n        sales[j + 1].product = temp_swap;\n      }\n    }\n  }\n\n  for (var i = 0; i < 3; i++) {\n    for (var j = 0; j < 3; j++) {\n      if (extra[j].extra < extra[j + 1].extra) {\n        temp_swap = extra[j].extra;\n        extra[j].extra = extra[j + 1].extra;\n        extra[j + 1].extra = temp_swap;\n        temp_swap = extra[j].product;\n        extra[j].product = extra[j + 1].product;\n        extra[j + 1].product = temp_swap;\n      }\n    }\n  } //----------------------------------------------SORT END----------------------------------------------------------\n  //console.log(backlogs);\n  //console.log(times[p_name][0]);\n\n\n  var step_complete = {\n    step1: 0,\n    step2: 0,\n    step3: 0\n  };\n  var step_ends = {\n    step1: 0,\n    step2: 0,\n    step3: 0\n  }; //---------------------------------------------BACKLOGS-----------------------------------------------------------\n\n  for (var lv = 0; lv < 4; lv++) {\n    var p1_backlogs = backlogs[lv].backlog;\n    var p_name = backlogs[lv].product;\n\n    for (var i = 0; i < backlogs[lv].backlog; i++) {\n      if (p1_backlogs > 0) {\n        loc = first_index(lines, 1, 0);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][0]; j++) {\n          lines[loc[1] - 1].step1[loc[0] + j] = backlogs[lv].product;\n          step_ends.step1 = loc[0] + j + 1;\n        }\n\n        p1_backlogs--;\n        step_complete.step1++;\n      }\n\n      if (step_complete.step1 > 0) {\n        loc = first_index(lines, 2, step_ends.step1);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][1]; j++) {\n          lines[loc[1] - 1].step2[loc[0] + j] = backlogs[lv].product;\n          step_ends.step2 = loc[0] + j + 1;\n        }\n\n        step_complete.step1--;\n        step_complete.step2++;\n      }\n\n      if (step_complete.step2 > 0) {\n        loc = first_index(lines, 3, step_ends.step2);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][2]; j++) {\n          lines[loc[1] - 1].step3[loc[0] + j] = backlogs[lv].product;\n          step_ends.step3 = loc[0] + j + 1;\n        }\n\n        step_complete.step2--;\n        step_complete.step3++; //console.log(lines[loc[1]].step1[loc[0]] );\n      }\n    }\n  } //---------------------------------------------SALES-----------------------------------------------------------\n\n\n  for (var lv = 0; lv < 4; lv++) {\n    var p1_sales = sales[lv].sales;\n    var p_name = sales[lv].product;\n\n    for (var i = 0; i < sales[lv].sales; i++) {\n      if (p1_sales > 0) {\n        loc = first_index(lines, 1, 0);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][0]; j++) {\n          lines[loc[1] - 1].step1[loc[0] + j] = sales[lv].product;\n        }\n\n        p1_sales--;\n        step_complete.step1++;\n      }\n\n      if (step_complete.step1 > 0) {\n        loc = first_index(lines, 2, step_ends.step1);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][1]; j++) {\n          //console.log(loc);\n          //console.log(step_ends.step2);\n          lines[loc[1] - 1].step2[loc[0] + j] = sales[lv].product;\n        }\n\n        step_complete.step1--;\n        step_complete.step2++;\n      }\n\n      if (step_complete.step2 > 0) {\n        loc = first_index(lines, 3, step_ends.step2);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][2]; j++) {\n          lines[loc[1] - 1].step3[loc[0] + j] = sales[lv].product;\n        }\n\n        step_complete.step2--;\n        step_complete.step3++; //console.log(lines[loc[1]].step1[loc[0]] );\n      }\n    }\n  } //---------------------------------------------------EXTRA-----------------------------------------------------------\n\n\n  for (var lv = 0; lv < 4; lv++) {\n    var p1_extra = extra[lv].extra;\n    var p_name = extra[lv].product;\n\n    for (var i = 0; i < extra[lv].extra; i++) {\n      if (p1_extra > 0) {\n        loc = first_index(lines, 1, 0);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][0]; j++) {\n          lines[loc[1] - 1].step1[loc[0] + j] = extra[lv].product;\n          step_ends.step1 = loc[0] + j + 1;\n        }\n\n        p1_extra--;\n        step_complete.step1++;\n      }\n\n      if (step_complete.step1 > 0) {\n        loc = first_index(lines, 2, step_ends.step1);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][1]; j++) {\n          lines[loc[1] - 1].step2[loc[0] + j] = extra[lv].product;\n          step_ends.step2 = loc[0] + j + 1;\n        }\n\n        step_complete.step1--;\n        step_complete.step2++;\n      }\n\n      if (step_complete.step2 > 0) {\n        loc = first_index(lines, 3, step_ends.step2);\n\n        for (var t = 0; t < times[p_name][0]; t++) {\n          if ((loc[0] + t + 1) % 16 == 0) {\n            loc[0] = loc[0] + t + 1;\n          }\n        }\n\n        for (var j = 0; j < times[p_name][2]; j++) {\n          lines[loc[1] - 1].step3[loc[0] + j] = extra[lv].product;\n          step_ends.step3 = loc[0] + j + 1;\n        }\n\n        step_complete.step2--;\n        step_complete.step3++; //console.log(lines[loc[1]].step1[loc[0]] );\n      }\n    }\n  } //step_complete_temp = (step_complete.step1/6+1)*times[p_name][0]; \n\n  /*\r\n  console.log(step_complete);\r\n  for(var i = 0; i< step_complete_temp; i++){\r\n      for(var j = 0; j<6 && step_complete.step1>0; j++){\r\n          \r\n          for(var k =0; k<times[p_name][0]; k++){\r\n              lines[j].step1[i+k] = backlogs[0].product ;\r\n          }\r\n          step_complete.step1--;\r\n          step_complete.step2++;\r\n      }\r\n  }\r\n  */\n  //step_complete_temp = (step_complete.step1/6+1)*times[p_name][0]; \n\n\n  console.log(lines); //console.log(lines[1].step1[250])\n  //console.log(first_index(lines,1));\n\n  return lines;\n};\noptimize(input); // bubble_Sort(backlogs)","map":{"version":3,"sources":["C:/Users/prana/OneDrive/Desktop/DELL-HackToHire/my-app/src/components/logic_Algo.js"],"names":["times","XPS","Inspiron","Vostro","GSeries","n_lines","initialise","arr","i","input","sort","a","b","backlog","line_1","step1","Array","step2","step3","line_2","line_3","line_4","line_5","line_6","lines","backlogs","sales","extra","first_index","step_no","min","min_index","min_line_no","String","length","k","optimize","temp_swap","loc","push","product","j","step_complete","step_ends","lv","p1_backlogs","p_name","t","p1_sales","p1_extra","console","log"],"mappings":"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","sourcesContent":["//var input  = [ { product : \"XPS\" , backlog : 15 , sales: 12 , extra : 20}, { product : \"Vostro\" , backlog : 10 , sales: 16 , extra : 12},\r\n//{ product : \"GSeries\" , backlog : 4 , sales: 15 , extra : 2}, { product : \"Inspiron\" , backlog : 9 , sales: 10 , extra : 17}]\r\nvar times = {\r\n    XPS:[2,3,2],    //XPS\r\n    Inspiron: [2,2,2],    //Inspiron\r\n    Vostro: [1,2,1],    //Vostro\r\n    GSeries: [3,3,1]     //GSeries\r\n};\r\n\r\nvar n_lines = 6;\r\n\r\nconst initialise = (arr)=> {\r\n    for(var i=0 ; i<336;i++){\r\n        arr[i] = 0;\r\n    }\r\n    return arr; \r\n}\r\n\r\ninput.sort((a,b)=>{\r\n    return a.backlog - b.backlog \r\n})\r\n\r\n//console.log(input)\r\n\r\nvar line_1 = {step1 : initialise(new Array(336)),step2 : initialise(new Array(336)), step3 : initialise(new Array(336)) }\r\nvar line_2 = {step1 : initialise(new Array(336)),step2 : initialise(new Array(336)), step3 : initialise(new Array(336)) }\r\nvar line_3 = {step1 : initialise(new Array(336)),step2 : initialise(new Array(336)), step3 : initialise(new Array(336)) }\r\nvar line_4 = {step1 : initialise(new Array(336)),step2 : initialise(new Array(336)), step3 : initialise(new Array(336)) }\r\nvar line_5 = {step1 : initialise(new Array(336)),step2 : initialise(new Array(336)), step3 : initialise(new Array(336)) }\r\nvar line_6 = {step1 : initialise(new Array(336)),step2 : initialise(new Array(336)), step3 : initialise(new Array(336)) }\r\n\r\nvar lines = [line_1, line_2, line_3, line_4, line_5, line_6];\r\n\r\n// console.log(line_4.step2[50]);\r\nvar backlogs = [];\r\nvar sales = [];\r\nvar extra = [];\r\n\r\n//-----------------------------------------------FIRST INDEX--------------------------------------------------\r\nfunction first_index(lines, step_no,min){\r\n    //console.log(lines);\r\n    var min_index = 336;\r\n    var min_line_no;\r\n    step_no = String(\"step\"+step_no);\r\n    for(var i = 0; i<lines.length; i++){\r\n        for(var k =min; k<336; k++){\r\n            if(lines[i][step_no][k] == 0 && k < min_index){\r\n                min_index = k;\r\n                min_line_no = i+1;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return([min_index, min_line_no]);\r\n}\r\n\r\n//-----------------------------------------------OPTIMIZE--------------------------------------------------\r\nexport const optimize = (input) => {\r\n    var temp_swap;\r\n    var loc;\r\n    for(var i=0;i<4;i++){\r\n        backlogs.push({product :input[i].product , backlog:  input[i].backlog})\r\n    }for(var i=0;i<4;i++){\r\n        sales.push({product :input[i].product , sales:  input[i].sales })\r\n    }for(var i=0;i<4;i++){\r\n        extra.push({product :input[i].product , extra:  input[i].extra })\r\n    }\r\n    //console.log(backlogs);\r\n    //----------------------------------------------SORT----------------------------------------------------------\r\n    for(var i =0; i<3;i++){\r\n        for(var j = 0; j<3;j++){\r\n            if(backlogs[j].backlog < backlogs[j+1].backlog){\r\n                temp_swap = backlogs[j].backlog;\r\n                backlogs[j].backlog = backlogs[j+1].backlog;\r\n                backlogs[j+1].backlog = temp_swap;\r\n\r\n                temp_swap = backlogs[j].product;\r\n                backlogs[j].product = backlogs[j+1].product;\r\n                backlogs[j+1].product = temp_swap;\r\n            }\r\n        }\r\n    }\r\n\r\n    for(var i =0; i<3;i++){\r\n        for(var j = 0; j<3;j++){\r\n            if(sales[j].sales < sales[j+1].sales){\r\n                temp_swap = sales[j].sales;\r\n                sales[j].sales = sales[j+1].sales;\r\n                sales[j+1].sales = temp_swap;\r\n\r\n                temp_swap = sales[j].product;\r\n                sales[j].product = sales[j+1].product;\r\n                sales[j+1].product = temp_swap;\r\n            }\r\n        }\r\n    }\r\n\r\n    for(var i =0; i<3;i++){\r\n        for(var j = 0; j<3;j++){\r\n            if(extra[j].extra < extra[j+1].extra){\r\n                temp_swap = extra[j].extra;\r\n                extra[j].extra = extra[j+1].extra;\r\n                extra[j+1].extra = temp_swap;\r\n\r\n                temp_swap = extra[j].product;\r\n                extra[j].product = extra[j+1].product;\r\n                extra[j+1].product = temp_swap;\r\n            }\r\n        }\r\n    }\r\n    //----------------------------------------------SORT END----------------------------------------------------------\r\n    //console.log(backlogs);\r\n    //console.log(times[p_name][0]);\r\n    var step_complete = {step1: 0,step2: 0,step3: 0};\r\n    var step_ends = {step1: 0,step2: 0,step3: 0};\r\n    //---------------------------------------------BACKLOGS-----------------------------------------------------------\r\n    for(var lv = 0; lv<4; lv++){\r\n        var p1_backlogs = backlogs[lv].backlog;\r\n        var p_name = backlogs[lv].product;\r\n        for(var i = 0; i<(backlogs[lv].backlog); i++){\r\n            if(p1_backlogs>0){\r\n                loc = first_index(lines,1,0);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][0]; j++){\r\n                    lines[loc[1]-1].step1[loc[0]+j]  = backlogs[lv].product;\r\n                    step_ends.step1 =loc[0]+j+1;\r\n                }\r\n                p1_backlogs--;\r\n                step_complete.step1++;\r\n            }\r\n            if(step_complete.step1>0){\r\n                loc = first_index(lines,2,step_ends.step1);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][1]; j++){\r\n                    lines[loc[1]-1].step2[loc[0]+j]  = backlogs[lv].product;\r\n                    step_ends.step2 = loc[0]+j+1;\r\n                }\r\n                step_complete.step1--;\r\n                step_complete.step2++;\r\n            }\r\n            if(step_complete.step2>0){\r\n                loc = first_index(lines,3,step_ends.step2);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][2]; j++){\r\n                    lines[loc[1]-1].step3[loc[0]+j]  = backlogs[lv].product;\r\n                    step_ends.step3 = loc[0]+j+1;\r\n                }\r\n                step_complete.step2--;\r\n                step_complete.step3++;\r\n                //console.log(lines[loc[1]].step1[loc[0]] );\r\n            }\r\n        }\r\n    }   \r\n    //---------------------------------------------SALES-----------------------------------------------------------\r\n    \r\n    for(var lv = 0; lv<4; lv++){\r\n        var p1_sales = sales[lv].sales;\r\n        var p_name = sales[lv].product;\r\n        for(var i = 0; i<(sales[lv].sales); i++){\r\n\r\n            if(p1_sales>0){\r\n                loc = first_index(lines,1,0);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][0]; j++){\r\n                    lines[loc[1]-1].step1[loc[0]+j]  = sales[lv].product;\r\n                }\r\n                p1_sales--;\r\n                step_complete.step1++;\r\n            }\r\n            if(step_complete.step1>0){\r\n                loc = first_index(lines,2,step_ends.step1);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][1]; j++){\r\n                    //console.log(loc);\r\n                    //console.log(step_ends.step2);\r\n                    lines[loc[1]-1].step2[loc[0]+j]  = sales[lv].product;\r\n                }\r\n                step_complete.step1--;\r\n                step_complete.step2++;\r\n            }\r\n            if(step_complete.step2>0){\r\n                loc = first_index(lines,3,step_ends.step2);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][2]; j++){\r\n                    lines[loc[1]-1].step3[loc[0]+j]  = sales[lv].product;\r\n                }\r\n                step_complete.step2--;\r\n                step_complete.step3++;\r\n                //console.log(lines[loc[1]].step1[loc[0]] );\r\n            }\r\n        }\r\n    }\r\n    \r\n    //---------------------------------------------------EXTRA-----------------------------------------------------------\r\n    for(var lv = 0; lv<4; lv++){\r\n        var p1_extra = extra[lv].extra;\r\n        var p_name = extra[lv].product;\r\n        for(var i = 0; i<(extra[lv].extra); i++){\r\n            if(p1_extra>0){\r\n                loc = first_index(lines,1,0);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][0]; j++){\r\n                    lines[loc[1]-1].step1[loc[0]+j]  = extra[lv].product;\r\n                    step_ends.step1 =loc[0]+j+1;\r\n                }\r\n                p1_extra--;\r\n                step_complete.step1++;\r\n            }\r\n            if(step_complete.step1>0){\r\n                loc = first_index(lines,2,step_ends.step1);\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][1]; j++){\r\n                    lines[loc[1]-1].step2[loc[0]+j]  = extra[lv].product;\r\n                    step_ends.step2 = loc[0]+j+1;\r\n                }\r\n                step_complete.step1--;\r\n                step_complete.step2++;\r\n            }\r\n            if(step_complete.step2>0){\r\n                loc = first_index(lines,3,step_ends.step2);\r\n\r\n                for(var t = 0; t<times[p_name][0]; t++){\r\n                    if((loc[0]+t+1)%16 == 0){\r\n                        loc[0] = loc[0] + t+1;\r\n                    }\r\n                }\r\n                for(var j =0; j< times[p_name][2]; j++){\r\n                    lines[loc[1]-1].step3[loc[0]+j]  = extra[lv].product;\r\n                    step_ends.step3 = loc[0]+j+1;\r\n                }\r\n                step_complete.step2--;\r\n                step_complete.step3++;\r\n                //console.log(lines[loc[1]].step1[loc[0]] );\r\n            }\r\n        }\r\n    }   \r\n    \r\n    \r\n        \r\n    //step_complete_temp = (step_complete.step1/6+1)*times[p_name][0]; \r\n\r\n    /*\r\n    console.log(step_complete);\r\n    for(var i = 0; i< step_complete_temp; i++){\r\n        for(var j = 0; j<6 && step_complete.step1>0; j++){\r\n            \r\n            for(var k =0; k<times[p_name][0]; k++){\r\n                lines[j].step1[i+k] = backlogs[0].product ;\r\n            }\r\n            step_complete.step1--;\r\n            step_complete.step2++;\r\n        }\r\n    }\r\n    */\r\n   \r\n//step_complete_temp = (step_complete.step1/6+1)*times[p_name][0]; \r\n\r\n\r\n    console.log(lines);\r\n    //console.log(lines[1].step1[250])\r\n    //console.log(first_index(lines,1));\r\n    return(lines);\r\n\r\n\r\n\r\n}\r\n\r\noptimize(input) \r\n\r\n\r\n// bubble_Sort(backlogs)"]},"metadata":{},"sourceType":"module"}